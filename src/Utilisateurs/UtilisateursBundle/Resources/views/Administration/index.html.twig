{% extends '::layout/layout-administration.html.twig' %}

{% block body %}
    <h1>Utilisateurs Administration</h1>

    <div class="container">
    <div class="col-12">

        {% for flash in app.session.flashbag.get('success') %}
            <div class="alert alert-success">{{ flash }}</div>
        {% endfor %}
        {% for flash in app.session.flashbag.get('error') %}
            <div class="alert alert-error">{{ flash }}</div>
        {% endfor %}

        <form>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>Client</th>
                    <th class="pull-right">Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for entity in entities %}
                        <tr>
                            <td>{{ entity.username }}</td>
                            <td>
                                
                                <ul class="pull-right" style="list-style: none;margin-left: 0px;">
                                {% if entity.adresses|length != 0 %}   
                                    <li style="display: inline-block;">
                                        <a  class="button-info" href="{{ path('admin_utilisateurs_adresses',{'id':entity.id}) }}">Adresses</a>
                                    </li>
                                {% endif %}
                                {% if entity.commandes|length != 0 %}
                                    <li style="display: inline-block;">
                                        <a class="button-info" href="{{ path('admin_utilisateurs_factures',{'id': entity.id}) }}">Factures</a>
                                    </li>
                                {% endif %}
                                </ul>
                            </td>
                        </tr>
                {% endfor %}
                </tbody>
            </table>
        </form>

    </div>
    </div>
    {% endblock %}